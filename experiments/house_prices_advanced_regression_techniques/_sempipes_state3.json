{
  "generated_code": [
    "\n# (Total Bathrooms: Combines full and half baths above and below grade)\n# Input samples: 'FullBath': [1, 2, 1], 'HalfBath': [0, 1, 0], 'BsmtFullBath': [1, 1, 0], 'BsmtHalfBath': [0, 0, 0]\ndf['TotalBathrooms'] = (\n    df['FullBath'] + df['BsmtFullBath'] +\n    0.5 * (df['HalfBath'] + df['BsmtHalfBath'])\n)\n\n# (Age of house at time of sale)\n# Input samples: 'YrSold': [2009, 2006, 2009], 'YearBuilt': [1961, 1993, 1932]\ndf['AgeAtSale'] = df['YrSold'] - df['YearBuilt']\n\n# (Years since remodel at time of sale)\n# Input samples: 'YrSold': [2009, 2006, 2009], 'YearRemodAdd': [1983, 1993, 2000]\ndf['RemodAtSale'] = df['YrSold'] - df['YearRemodAdd']\n\n# (Total square footage of house: ground living + basement)\n# Input samples: 'GrLivArea': [1144, 2520, 1520], 'TotalBsmtSF': [864, 1338, 793]\ndf['TotalHouseSF'] = df['GrLivArea'] + df['TotalBsmtSF']\n\n# (Total porch area: sum of all outdoor porch spaces)\n# Input samples: 'OpenPorchSF': [0, 55, 0], 'EnclosedPorch': [0, 0, 56], '3SsnPorch': [0, 0, 0], 'ScreenPorch': [0, 0, 0]\ndf['TotalPorchSF'] = (\n    df['OpenPorchSF'] + df['EnclosedPorch'] + df['3SsnPorch'] + df['ScreenPorch']\n)\n\n# (Has second floor: binary indicator)\n# Input samples: '2ndFlrSF': [0, 1168, 672]\ndf['Has2ndFlr'] = (df['2ndFlrSF'] > 0).astype(int)\n\n# (Has basement: binary indicator)\n# Input samples: 'TotalBsmtSF': [864, 1338, 793]\ndf['HasBasement'] = (df['TotalBsmtSF'] > 0).astype(int)\n\n# (Total finished basement SF)\n# Input samples: 'BsmtFinSF1': [594, 1012, 182], 'BsmtFinSF2': [0, 0, 0]\ndf['TotalBsmtFinSF'] = df['BsmtFinSF1'] + df['BsmtFinSF2']\n\n# (Has fireplace: binary indicator)\n# Input samples: 'Fireplaces': [1, 1, 0]\ndf['HasFireplace'] = (df['Fireplaces'] > 0).astype(int)\n\n# (Has garage: binary indicator)\n# Input samples: 'GarageArea': [264, 796, 281]\ndf['HasGarage'] = (df['GarageArea'] > 0).astype(int)\n\n# (Age of garage at sale)\n# Input samples: 'YrSold': [2009, 2006, 2009], 'GarageYrBlt': [1961.0, 1993.0, 1968.0]\ndf['GarageAge'] = df['YrSold'] - df['GarageYrBlt'].fillna(df['YearBuilt'])\n\n# (Total rooms above ground, excluding kitchen)\n# Input samples: 'TotRmsAbvGrd': [6, 10, 6], 'KitchenAbvGr': [1, 1, 1]\ndf['RmsAbvGrdNoKit'] = df['TotRmsAbvGrd'] - df['KitchenAbvGr']\n\n# (Has wood deck: binary indicator)\n# Input samples: 'WoodDeckSF': [165, 209, 0]\ndf['HasWoodDeck'] = (df['WoodDeckSF'] > 0).astype(int)\n\n# (Has open porch: binary indicator)\n# Input samples: 'OpenPorchSF': [0, 55, 0]\ndf['HasOpenPorch'] = (df['OpenPorchSF'] > 0).astype(int)\n\n# (Remodeled: indicator if house was remodeled (YearRemodAdd != YearBuilt))\n# Input samples: 'YearBuilt': [1961, 1993, 1932], 'YearRemodAdd': [1983, 1993, 2000]\ndf['IsRemodeled'] = (df['YearRemodAdd'] != df['YearBuilt']).astype(int)\n\n# (Lot area per room: lot size divided by total rooms above grade)\n# Input samples: 'LotArea': [10000, 14541, 4500], 'TotRmsAbvGrd': [6, 10, 6]\ndf['LotAreaPerRoom'] = df['LotArea'] / df['TotRmsAbvGrd']\n\n# (House finished area ratio: finished ground area / total house size)\n# Input samples: 'GrLivArea': [1144, 2520, 1520], 'TotalHouseSF': [2008, 3858, 2313]\ndf['FinAreaRatio'] = df['GrLivArea'] / df['TotalHouseSF']\n\n# (Total home quality: product of overall quality and condition)\n# Input samples: 'OverallQual': [5, 8, 5], 'OverallCond': [6, 7, 5]\ndf['OverallQualCond'] = df['OverallQual'] * df['OverallCond']\n\n# (Has paved driveway: binary indicator)\n# Input samples: 'PavedDrive': ['Y', 'Y', 'Y']\ndf['HasPavedDrive'] = (df['PavedDrive'] == 'Y').astype(int)\n\n# (Lot frontage to area ratio: lot frontage divided by log of lot area)\n# Input samples: 'LotFrontage': [80.0, np.nan, 55.0], 'LotArea': [10000, 14541, 4500]\ndf['LotFrontageAreaRatio'] = df['LotFrontage'].fillna(0) / np.log1p(df['LotArea'])\n\n# (Total outdoor SF: sum of lot area, wood deck, and porch)\n# Input samples: 'LotArea': [10000, 14541, 4500], 'WoodDeckSF': [165, 209, 0], 'TotalPorchSF': [0, 55, 0]\ndf['TotalOutdoorSF'] = df['LotArea'] + df['WoodDeckSF'] + df['TotalPorchSF']\n\n# (Combined quality: combines exterior, kitchen, and heating quality as ordinal)\n# Input samples: 'ExterQual': ['TA', 'Gd', 'TA'], 'KitchenQual': ['TA', 'Gd', 'TA'], 'HeatingQC': ['Ex', 'Ex', 'Ex']\nqual_map = {'Po':1, 'Fa':2, 'TA':3, 'Gd':4, 'Ex':5}\ndf['CombinedQual'] = (\n    df['ExterQual'].map(qual_map).fillna(0) +\n    df['KitchenQual'].map(qual_map).fillna(0) +\n    df['HeatingQC'].map(qual_map).fillna(0)\n)\n\n# (Number of finished floors: 1st + 2nd if area > 0)\n# Input samples: '1stFlrSF': [1144, 1352, 848], '2ndFlrSF': [0, 1168, 672]\ndf['NumFinishedFlrs'] = (df['1stFlrSF'] > 0).astype(int) + (df['2ndFlrSF'] > 0).astype(int)\n\n# (Garage to lot area ratio)\n# Input samples: 'GarageArea': [264, 796, 281], 'LotArea': [10000, 14541, 4500]\ndf['GarageLotRatio'] = df['GarageArea'] / np.maximum(1, df['LotArea'])\n\n# (Total home age: age at sale plus garage age)\n# Input samples: 'AgeAtSale': [48, 13, 77], 'GarageAge': [48.0, 13.0, 41.0]\ndf['TotalHomeAge'] = df['AgeAtSale'] + df['GarageAge']\n\n# (Porch to lot area ratio)\n# Input samples: 'TotalPorchSF': [0, 55, 0], 'LotArea': [10000, 14541, 4500]\ndf['PorchLotRatio'] = df['TotalPorchSF'] / np.maximum(1, df['LotArea'])\n"
  ]
}
